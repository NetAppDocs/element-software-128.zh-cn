---
sidebar: sidebar 
permalink: mnode/task_mnode_add_assets.html 
summary: 您可以使用 REST API UI 将控制器资产添加到管理节点配置中。 
keywords: netapp, mnode, management node, rest api, Element 
---
= 将控制器资产添加到管理节点
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
您可以使用 REST API UI 将控制器资产添加到管理节点配置中。

如果您最近扩展了安装规模，但新资产没有自动添加到您的配置中，则可能需要添加资产。使用这些 API 向安装中添加最近新增的资源。

.你需要什么
* 您的集群版本正在运行NetApp Element软件 11.3 或更高版本。
* 您已部署运行版本 11.3 或更高版本的管理节点。
* 您已在 vCenter 中创建了一个新的NetApp HCC 角色，以将管理节点服务视图限制为仅限NetApp资产。看link:task_mnode_create_netapp_hcc_role_vcenter.html["在 vCenter 中创建NetApp HCC 角色"]


.步骤
. 获取安装的基础资产 ID：
+
.. 在管理节点上打开库存服务 REST API 用户界面：
+
[listing]
----
https://<ManagementNodeIP>/inventory/1/
----
.. 选择“授权”，然后完成以下步骤：
+
... 请输入集群用户名和密码。
... 请输入客户端 ID `mnode-client` 。
... 选择“授权”以开始会话。
... 关闭窗口。


.. 从 REST API UI 中选择 *GET /installations*。
.. 选择*试用一下*。
.. 选择*执行*。
.. 从 200 错误代码响应正文中复制以下内容 `id`用于安装。
+
[listing, subs="+quotes"]
----
{
  "installations": [
    {
      "_links": {
        "collection": "https://10.111.211.111/inventory/1/installations",
        "self": "https://10.111.217.111/inventory/1/installations/abcd01e2-ab00-1xxx-91ee-12f111xxc7x0x"
      },
      *"id": "abcd01e2-ab00-1xxx-91ee-12f111xxc7x0x",*
----
+

NOTE: 您的安装具有在安装或升级过程中创建的基本资产配置。

.. 从 REST API UI 中选择 *GET /installations/{id}*。
.. 选择*试用一下*。
.. 将安装资产 ID 粘贴到 *id* 字段中。
.. 选择*执行*。
.. 从响应中复制并保存集群控制器 ID(`"controllerId"` ) 供后续步骤使用。


. 要向现有基础资产添加控制器子资产，请选择：
+
[listing]
----
POST /assets/{asset_id}/controllers
----
+
.. 在管理节点上打开 mNode 服务 REST API 用户界面：
+
[listing]
----
https://<ManagementNodeIP>/mnode
----
.. 选择“授权”，然后完成以下步骤：
+
... 请输入集群用户名和密码。
... 请输入客户端 ID `mnode-client` 。
... 选择“授权”以开始会话。
... 关闭窗口。


.. 选择 *POST /assets/{asset_id}/controllers*。
.. 选择*试用一下*。
.. 在 *asset_id* 字段中输入父级基础资产 ID。
.. 将所需值添加到有效载荷中。
.. 选择*执行*。




[discrete]
== 查找更多信息

* https://docs.netapp.com/us-en/vcp/index.html["NetApp Element vCenter Server 插件"^]
* https://docs.netapp.com/us-en/element-software/index.html["SolidFire和 Element 软件文档"]

